setwd("~/Github/MIN_UCM/proyecto")
ls
#limpiando los vacios
ls("sample/datasets/climateKnowledge")
ls()
#limpiando los vacios
temp <- list.files(pattern="*.csv")
#limpiando los vacios
temp <- list.files(pattern="sample/datasets/*.csv")
#limpiando los vacios
temp <- list.files(pattern="sample/datasets/*.csv")
#limpiando los vacios
temp <- list.files(path="sample/datasets/",pattern="*.csv")
#limpiando los vacios
temp <- list.files(path="./sample/datasets/",pattern="*.csv")
#limpiando los vacios
temp <- list.files(path="/sample/datasets/",pattern="*.csv")
setwd("~/Github/MIN_UCM/proyecto")
#limpiando los vacios
temp <- list.files(path="sample/datasets/",pattern="*.csv")
#limpiando los vacios
temp <- list.files(path="sample/datasets/")
#limpiando los vacios
temp <- list.files(path="sample/datasets/climateKnowledge")
#limpiando los vacios
files <- list.files(path="sample/datasets/climateKnowledge",full.names = TRUE)
lapply(files,function(x){
file <- read.delim2(x,sep="\t",header = FALSE);
length(countries[,1])
})
#limpiando los vacios
files <- list.files(path="sample/datasets/climateKnowledge",full.names = TRUE)
lapply(files,function(x){
file <- read.delim2(x,sep="\t",header = FALSE);
print(length(file[,1]))
})
file <- read.delim2("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep="\t",header = FALSE);
print(length(file[,1]))
file <- read.delim2("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep="\t",header = FALSE);
print(file)
View(file)
file <- read.delim2("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep="\n",header = FALSE);
View(file)
file <- read.csv("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep=",",header = TRUE);
View(file)
read.csv()
read.csv
help("read.csv")
file <- read.csv("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep=",",header = TRUE,skip = 1);
View(file)
file <- read.csv("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep=",",header = TRUE);
View(file)
file <- read.table("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep=",",header = TRUE);
file <- read.table("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep=",",header = TRUE);
View(file)
file <- read.table("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep=",",header = TRUE);
View(file)
file <- read.table("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep=",",header = TRUE,skip = 1);
View(file)
file <- read.csv2("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep=",",header = TRUE,skip = 1);
file <- read.csv2("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep=",",header = TRUE,skip = 1,stringsAsFactors = FALSE);
View(file)
View(file)
file <- read.csv2("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep=",",header = TRUE,skip = 1,stringsAsFactors = FALSE);
file <- read.csv2("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep=",",header = TRUE,stringsAsFactors = FALSE);
file <- read.csv2("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep=",",header = TRUE,stringsAsFactors = FALSE);
#poner el directorio en la raiz "proyecto" ---> setwd("~/Github/MIN_UCM/proyecto")
countries <- read.delim2("sample/datasets/names.txt",sep="\t",header = FALSE);
print(countries);
for(i in 1:(length(countries[,1]))){
print(as.character(countries[i,1]));
url <- paste("https://climateknowledgeportal.worldbank.org/api/data/get-download-data/historical/tas/1991-2016/",toupper(substr(countries[i,1],1,3)),"/",countries[i,1],sep="");
print(url);
tmp <- RCurl::getURL(url);
write(tmp, file = paste("sample/datasets/climateKnowledge/",toupper( gsub(" ","_",countries[i,1])),"_temperature.csv"));
url <- paste("https://climateknowledgeportal.worldbank.org/api/data/get-download-data/historical/pr/1991-2016/",toupper(substr(countries[i,1],1,3)),"/",countries[i,1],sep="");
print(url);
tmp <- RCurl::getURL(url);
write(tmp, file = paste("sample/datasets/climateKnowledge/",toupper( gsub(" ","_",countries[i,1])),"_rain.csv"));
}
countries <- read.delim2("sample/datasets/names.txt",sep="\t",header = FALSE);
print(countries);
for(i in 1:(length(countries[,1]))){
print(as.character(countries[i,1]));
url <- paste("https://climateknowledgeportal.worldbank.org/api/data/get-download-data/historical/tas/1991-2016/",toupper(substr(countries[i,1],1,3)),"/",countries[i,1],sep="");
print(url);
tmp <- RCurl::getURL(url);
write(tmp, file = paste("sample/datasets/climateKnowledge/",toupper( gsub(" ","_",countries[i,1])),"_temperature.csv"));
url <- paste("https://climateknowledgeportal.worldbank.org/api/data/get-download-data/historical/pr/1991-2016/",toupper(substr(countries[i,1],1,3)),"/",countries[i,1],sep="");
print(url);
tmp <- RCurl::getURL(url);
write(tmp, file = paste("sample/datasets/climateKnowledge/",gsub(" ","",toupper( gsub(" ","_",countries[i,1])),"_rain.csv")));
}
countries <- read.delim2("sample/datasets/names.txt",sep="\t",header = FALSE);
print(countries);
for(i in 1:(length(countries[,1]))){
print(as.character(countries[i,1]));
url <- paste("https://climateknowledgeportal.worldbank.org/api/data/get-download-data/historical/tas/1991-2016/",toupper(substr(countries[i,1],1,3)),"/",countries[i,1],sep="");
print(url);
tmp <- RCurl::getURL(url);
write(tmp, file = paste("sample/datasets/climateKnowledge/",toupper( gsub(" ","_",countries[i,1])),"_temperature.csv"));
url <- paste("https://climateknowledgeportal.worldbank.org/api/data/get-download-data/historical/pr/1991-2016/",toupper(substr(countries[i,1],1,3)),"/",countries[i,1],sep="");
print(url);
tmp <- RCurl::getURL(url);
write(tmp, file = gsub(" ","",paste("sample/datasets/climateKnowledge/",toupper( gsub(" ","_",countries[i,1])),"_rain.csv")));
}
remove(ls())
remove(lista = ls())
remove(lista<-ls())
remove(files)
remove(i)
remove(rmp)
remove(tmp)
remove(temp)
remove(url)
remove(file)
remove(countries)
countries <- read.delim2("sample/datasets/names.txt",sep="\t",header = FALSE);
print(countries);
for(i in 1:(length(countries[,1]))){
print(as.character(countries[i,1]));
url <- paste("https://climateknowledgeportal.worldbank.org/api/data/get-download-data/historical/tas/1991-2016/",toupper(substr(countries[i,1],1,3)),"/",countries[i,1],sep="");
print(url);
tmp <- RCurl::getURL(url);
write(tmp, file = paste("sample/datasets/climateKnowledge/",toupper( gsub(" ","_",countries[i,1])),"_temperature.csv"));
url <- paste("https://climateknowledgeportal.worldbank.org/api/data/get-download-data/historical/pr/1991-2016/",toupper(substr(countries[i,1],1,3)),"/",countries[i,1],sep="");
print(url);
tmp <- RCurl::getURL(url);
write(tmp, file = gsub(" ","",paste("sample/datasets/climateKnowledge/",toupper( gsub(" ","_",countries[i,1])),"_rain.csv")));
}
countries <- read.delim2("sample/datasets/names.txt",sep="\t",header = FALSE);
print(countries);
for(i in 1:(length(countries[,1]))){
print(as.character(countries[i,1]));
url <- paste("https://climateknowledgeportal.worldbank.org/api/data/get-download-data/historical/tas/1991-2016/",toupper(substr(countries[i,1],1,3)),"/",countries[i,1],sep="");
print(url);
tmp <- RCurl::getURL(url);
write(tmp, file = paste("sample/datasets/climateKnowledge/",toupper( gsub(" ","_",countries[i,1])),"_temperature.csv"));
url <- paste("https://climateknowledgeportal.worldbank.org/api/data/get-download-data/historical/pr/1991-2016/",toupper(substr(countries[i,1],1,3)),"/",countries[i,1],sep="");
print(url);
tmp <- RCurl::getURL(url);
write(tmp, file = gsub(" ","",paste("sample/datasets/climateKnowledge/",toupper( gsub(" ","_",countries[i,1])),"_rain.csv")));
}
file <- read.csv2("sample/datasets/climateKnowledge/AFGHANISTAN _rain.csv",sep=",",header = TRUE,stringsAsFactors = FALSE);
mode(file)
file <- read.csv2("sample/datasets/climateKnowledge/AFGHANISTAN_rain.csv",sep=",",header = TRUE,stringsAsFactors = FALSE);
mode(file)
View(file)
file[1,Year]
file[Year]
file[Year,1]
file["Year",1]
file["Year"]
file["Year",1]
file["Year",2]
file["Year",]
file[1,"Year"]
file[,"Year"]
length(file[,"Year"])
file <- read.csv2("sample/datasets/climateKnowledge/ALGERIA_rain.csv",sep=",",header = TRUE,stringsAsFactors = FALSE);
file <- read.csv2("sample/datasets/climateKnowledge/ALGERIA_rain.csv",sep=",",header = TRUE,stringsAsFactors = FALSE);
length(file[,"Year"])
length(file[,0])
#limpiando los vacios
files <- list.files(path="sample/datasets/climateKnowledge",full.names = TRUE)
lapply(files,function(x){
file <- read.csv2(x,sep=",",header = TRUE,stringsAsFactors = FALSE);
if(length(file[,"Year"])==0){
print(paste("borrando",x));
file.remove(x);
}
})
file
file[,"Year"]
length(file[,"Year"])
#limpiando los vacios
files <- list.files(path="sample/datasets/climateKnowledge",full.names = TRUE)
lapply(files,function(x){
file <- read.csv2(x,sep=",",header = TRUE,stringsAsFactors = FALSE);
print(file)
if(length(file[,"Year"])==0){
print(paste("borrando",x));
file.remove(x);
}
})
#limpiando los vacios
files <- list.files(path="sample/datasets/climateKnowledge",full.names = TRUE)
lapply(files,function(x){
file <- read.csv2(x,sep=",",header = TRUE,stringsAsFactors = FALSE);
#  if(length(file[,"Year"])==0){
#    print(paste("borrando",x));
#    file.remove(x);
#  }
})
View(file)
file[,Year]
file[,"Year"]
#limpiando los vacios
files <- list.files(path="sample/datasets/climateKnowledge",full.names = TRUE)
lapply(files,function(x){
file <- read.csv2(x,sep=",",header = TRUE,stringsAsFactors = FALSE);
if(length(file[,"Year"])==0){
print(paste("borrando",x));
file.remove(x);
}
})
#limpiando los vacios
files <- list.files(path="sample/datasets/climateKnowledge/AFGHANISTAN _temperature.csv",full.names = TRUE)
lapply(files,function(x){
file <- read.csv2(x,sep=",",header = TRUE,stringsAsFactors = FALSE);
if(length(file[,"Year"])==0){
print(paste("borrando",x));
file.remove(x);
}
})
#limpiando los vacios
files <- list.files(path="sample/datasets/climateKnowledge/AFGHANISTAN _temperature.csv",full.names = TRUE)
lapply(files,function(x){
file <- read.csv2(x,sep=",",header = TRUE,stringsAsFactors = FALSE);
if(length(file[,"Year"])==0){
print(paste("borrando",x));
file.remove(x);
}
})
#limpiando los vacios
files <- list.files(path="sample/datasets/climateKnowledge/AFGHANISTAN _temperature.csv",full.names = TRUE)
lapply(files,function(x){
print(x)
file <- read.csv2(x,sep=",",header = TRUE,stringsAsFactors = FALSE);
if(length(file[,"Year"])==0){
print(paste("borrando",x));
file.remove(x);
}
})
print(files)
files <- list.files(path="sample/datasets/climateKnowledge",full.names = TRUE)
print(files)
files <- list.files(path="sample/datasets/climateKnowledge",full.names = TRUE)
lapply(files,function(x){
print(x)
file <- read.csv2(x,sep=",",header = TRUE,stringsAsFactors = FALSE);
if(length(file[,"Year"])==0){
print(paste("borrando",x));
file.remove(x);
}
})
file <- read.csv2("sample/datasets/climateKnowledge/ÅLAND_ISLANDS _temperature.csv",sep=",",header = TRUE,stringsAsFactors = FALSE);
if(length(file[,"Year"])==0){
print(paste("borrando",x));
file.remove(x);
}
file <- read.csv2("sample/datasets/climateKnowledge/ÅLAND_ISLANDS _temperature.csv",sep=",",header = TRUE,stringsAsFactors = FALSE);
print(file)
if(length(file[,"Year"])==0){
print(paste("borrando",x));
file.remove(x);
}
View(file)
file <- read.csv2("sample/datasets/climateKnowledge/ÅLAND_ISLANDS _temperature.csv",sep=",",header = TRUE,stringsAsFactors = FALSE);
if(!("Year" %in% colnames(file)) || length(file[,"Year"])==0){
print(paste("borrando",x));
file.remove(x);
}
file <- read.csv2("sample/datasets/climateKnowledge/ÅLAND_ISLANDS _temperature.csv",sep=",",header = TRUE,stringsAsFactors = FALSE);
if(("Year" %in% colnames(file)) && length(file[,"Year"])==0){
print(paste("borrando",x));
file.remove(x);
}
#limpiando los vacios
files <- list.files(path="sample/datasets/climateKnowledge",full.names = TRUE)
lapply(files,function(x){
file <- read.csv2(x,sep=",",header = TRUE,stringsAsFactors = FALSE);
if(("Year" %in% colnames(file)) && length(file[,"Year"])==0){
print(paste("borrando",x));
file.remove(x);
}
})
